<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é - RUSKY</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ */
        .diagnostic-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 9999;
        }
        
        .touch-indicator {
            position: absolute;
            width: 20px;
            height: 20px;
            background: red;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s ease;
        }
        
        .touch-indicator.active {
            opacity: 1;
            transform: scale(1);
        }
        
        .debug-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.9);
            color: #fff;
            padding: 15px;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 9998;
        }
        
        .log-entry {
            margin: 2px 0;
            padding: 2px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .log-error { color: #ff6b6b; }
        .log-success { color: #51cf66; }
        .log-info { color: #74c0fc; }
        
        .test-section {
            padding: 120px 20px 250px;
            background: #000;
            color: #fff;
            min-height: 100vh;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-ok { background: #51cf66; }
        .status-error { background: #ff6b6b; }
        .status-warning { background: #ffd43b; }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-logo">RUSKY</div>
        <nav class="header-nav">
            <a href="index.html">–ì–õ–ê–í–ù–ê–Ø</a>
            <a href="satellites.html">–°–ü–£–¢–ù–ò–ö–ò</a>
            <a href="launches.html">–ó–ê–ü–£–°–ö–ò</a>
            <a href="documentation.html">–î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø</a>
            <a href="support.html">–ü–û–î–î–ï–†–ñ–ö–ê</a>
            <a href="orders.html">–ú–û–ò –ó–ê–ö–ê–ó–´</a>
            <a href="about.html">–û –ù–ê–°</a>
        </nav>
        <div class="burger-menu" onclick="toggleMobileMenu()">
            <div class="burger-line"></div>
            <div class="burger-line"></div>
            <div class="burger-line"></div>
        </div>
        <a href="cart.html" class="cart-icon" aria-label="–ö–æ—Ä–∑–∏–Ω–∞">
            <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="10" cy="26" r="3" fill="white"/>
                <circle cx="24" cy="26" r="3" fill="white"/>
                <path d="M4 7H7L10 20H25L28 11H9" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
        </a>
    </header>

    <nav class="mobile-nav" id="mobile-nav">
        <div class="mobile-nav-list">
            <a href="index.html">–ì–õ–ê–í–ù–ê–Ø</a>
            <a href="satellites.html">–°–ü–£–¢–ù–ò–ö–ò</a>
            <a href="launches.html">–ó–ê–ü–£–°–ö–ò</a>
            <a href="documentation.html">–î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø</a>
            <a href="support.html">–ü–û–î–î–ï–†–ñ–ö–ê</a>
            <a href="orders.html">–ú–û–ò –ó–ê–ö–ê–ó–´</a>
            <a href="about.html">–û –ù–ê–°</a>
            <a href="cart.html">–ö–û–†–ó–ò–ù–ê</a>
        </div>
    </nav>

    <div class="diagnostic-overlay">
        <div class="touch-indicator" id="touchIndicator"></div>
    </div>

    <div class="test-section">
        <h1>üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é</h1>
        
        <div style="margin-bottom: 30px;">
            <h2>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:</h2>
            <div id="systemStatus">
                <div><span class="status-indicator status-warning"></span>–ü—Ä–æ–≤–µ—Ä–∫–∞...</div>
            </div>
        </div>
        
        <div style="margin-bottom: 30px;">
            <h2>–¢–µ—Å—Ç—ã:</h2>
            <button onclick="runDiagnostics()" style="padding: 12px 24px; background: #4A9EFF; color: white; border: none; border-radius: 8px; cursor: pointer; margin-right: 10px;">–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É</button>
            <button onclick="testBurgerMenuClick()" style="padding: 12px 24px; background: #51cf66; color: white; border: none; border-radius: 8px; cursor: pointer; margin-right: 10px;">–¢–µ—Å—Ç –∫–ª–∏–∫–∞</button>
            <button onclick="clearLog()" style="padding: 12px 24px; background: #868e96; color: white; border: none; border-radius: 8px; cursor: pointer;">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        </div>
        
        <div style="margin-bottom: 30px;">
            <h2>–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:</h2>
            <ul style="line-height: 1.8;">
                <li>‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ main.js –∏ —Ñ—É–Ω–∫—Ü–∏–∏ toggleMobileMenu</li>
                <li>‚úÖ –í–∏–¥–∏–º–æ—Å—Ç—å –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —ç–∫—Ä–∞–Ω–∞—Ö</li>
                <li>‚úÖ CSS —Å—Ç–∏–ª–∏ –∏ z-index</li>
                <li>‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –∫–ª–∏–∫–∞</li>
                <li>‚úÖ –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑–º–µ—Ä—ã</li>
                <li>‚úÖ Touch —Å–æ–±—ã—Ç–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</li>
            </ul>
        </div>
    </div>

    <div class="debug-panel" id="debugPanel">
        <div style="font-weight: bold; margin-bottom: 10px;">üêõ Debug Console:</div>
        <div id="logContainer"></div>
    </div>

    <script src="main.js"></script>
    <script>
        let logContainer;
        let touchIndicator;
        
        function log(message, type = 'info') {
            if (!logContainer) logContainer = document.getElementById('logContainer');
            
            const time = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = `[${time}] ${message}`;
            logContainer.appendChild(entry);
            logContainer.scrollTop = logContainer.scrollHeight;
            
            console.log(`[${type.toUpperCase()}] ${message}`);
        }
        
        function clearLog() {
            if (logContainer) logContainer.innerHTML = '';
        }
        
        function updateSystemStatus() {
            const statusDiv = document.getElementById('systemStatus');
            let status = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ main.js
            if (typeof toggleMobileMenu === 'function') {
                status.push('<div><span class="status-indicator status-ok"></span>main.js –∑–∞–≥—Ä—É–∂–µ–Ω ‚úì</div>');
            } else {
                status.push('<div><span class="status-indicator status-error"></span>main.js –ù–ï –∑–∞–≥—Ä—É–∂–µ–Ω ‚úó</div>');
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é
            const burger = document.querySelector('.burger-menu');
            const computedStyle = getComputedStyle(burger);
            if (computedStyle.display !== 'none') {
                status.push('<div><span class="status-indicator status-ok"></span>–ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é –≤–∏–¥–∏–º–æ ‚úì</div>');
            } else {
                status.push('<div><span class="status-indicator status-error"></span>–ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é —Å–∫—Ä—ã—Ç–æ ‚úó</div>');
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
            const width = window.innerWidth;
            if (width <= 768) {
                status.push(`<div><span class="status-indicator status-ok"></span>–ú–æ–±–∏–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω: ${width}px ‚úì</div>`);
            } else {
                status.push(`<div><span class="status-indicator status-warning"></span>–î–µ—Å–∫—Ç–æ–ø —ç–∫—Ä–∞–Ω: ${width}px</div>`);
            }
            
            statusDiv.innerHTML = status.join('');
        }
        
        function testBurgerMenuClick() {
            log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª–∏–∫–∞ –ø–æ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é...', 'info');
            
            const burger = document.querySelector('.burger-menu');
            if (!burger) {
                log('–ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!', 'error');
                return;
            }
            
            // –°–∏–º—É–ª—è—Ü–∏—è –∫–ª–∏–∫–∞
            const clickEvent = new MouseEvent('click', {
                bubbles: true,
                cancelable: true,
                view: window
            });
            
            burger.dispatchEvent(clickEvent);
            log('–ö–ª–∏–∫ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ', 'success');
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–±–æ–ª—å—à—É—é –∑–∞–¥–µ—Ä–∂–∫—É
            setTimeout(() => {
                const isActive = burger.classList.contains('active');
                const mobileNav = document.querySelector('.mobile-nav');
                const isNavActive = mobileNav && mobileNav.classList.contains('active');
                
                if (isActive && isNavActive) {
                    log('‚úÖ –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!', 'success');
                } else {
                    log('‚ùå –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–ª–∏–∫–∏', 'error');
                    log(`Burger active: ${isActive}, Nav active: ${isNavActive}`, 'info');
                }
            }, 100);
        }
        
        function runDiagnostics() {
            log('üîç –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏...', 'info');
            
            // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π
            log(`toggleMobileMenu function: ${typeof toggleMobileMenu}`, 'info');
            
            // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const burger = document.querySelector('.burger-menu');
            const mobileNav = document.querySelector('.mobile-nav');
            
            log(`Burger menu element: ${burger ? '–Ω–∞–π–¥–µ–Ω' : '–ù–ï –Ω–∞–π–¥–µ–Ω'}`, burger ? 'success' : 'error');
            log(`Mobile nav element: ${mobileNav ? '–Ω–∞–π–¥–µ–Ω' : '–ù–ï –Ω–∞–π–¥–µ–Ω'}`, mobileNav ? 'success' : 'error');
            
            // 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ CSS —Å—Ç–∏–ª–µ–π
            if (burger) {
                const style = getComputedStyle(burger);
                log(`Burger display: ${style.display}`, 'info');
                log(`Burger z-index: ${style.zIndex}`, 'info');
                log(`Burger position: ${style.position}`, 'info');
                log(`Burger pointer-events: ${style.pointerEvents}`, 'info');
                log(`Burger cursor: ${style.cursor}`, 'info');
            }
            
            // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π
            const events = getEventListeners ? getEventListeners(burger) : 'DevTools required';
            log(`Event listeners: ${typeof events}`, 'info');
            
            updateSystemStatus();
            log('üèÅ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞', 'success');
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            logContainer = document.getElementById('logContainer');
            touchIndicator = document.getElementById('touchIndicator');
            
            log('üöÄ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞', 'success');
            updateSystemStatus();
            
            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª–∏–∫–æ–≤ –ø–æ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é
            const burger = document.querySelector('.burger-menu');
            if (burger) {
                // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                burger.addEventListener('click', function(e) {
                    log('üëÜ Click event –Ω–∞ burger-menu', 'success');
                    log(`Event target: ${e.target.tagName}`, 'info');
                    log(`Current target: ${e.currentTarget.className}`, 'info');
                });
                
                burger.addEventListener('touchstart', function(e) {
                    log('üëã Touch start event', 'success');
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–∞—Å–∞–Ω–∏—è
                    if (touchIndicator && e.touches[0]) {
                        const touch = e.touches[0];
                        touchIndicator.style.left = (touch.clientX - 10) + 'px';
                        touchIndicator.style.top = (touch.clientY - 10) + 'px';
                        touchIndicator.classList.add('active');
                        
                        setTimeout(() => {
                            touchIndicator.classList.remove('active');
                        }, 300);
                    }
                });
                
                burger.addEventListener('mousedown', function() {
                    log('üñ±Ô∏è Mouse down event', 'success');
                });
                
                log(`‚úÖ Event listeners –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫ –±—É—Ä–≥–µ—Ä-–º–µ–Ω—é`, 'success');
            } else {
                log('‚ùå –ë—É—Ä–≥–µ—Ä-–º–µ–Ω—é –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è listeners', 'error');
            }
        });
        
        // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
        window.addEventListener('resize', updateSystemStatus);
        
        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ toggleMobileMenu –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        if (typeof toggleMobileMenu === 'function') {
            const originalToggle = toggleMobileMenu;
            window.toggleMobileMenu = function() {
                log('üîÑ toggleMobileMenu –≤—ã–∑–≤–∞–Ω–∞', 'success');
                try {
                    originalToggle();
                    log('‚úÖ toggleMobileMenu –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ', 'success');
                } catch (error) {
                    log(`‚ùå –û—à–∏–±–∫–∞ –≤ toggleMobileMenu: ${error.message}`, 'error');
                }
                updateSystemStatus();
            };
        }
        
        log('üì± –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ', 'info');
    </script>
</body>
</html>